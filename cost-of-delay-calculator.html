<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cost of Delay Calculator</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="cost-of-delay-styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Cost of Delay Calculator</h1>
            <p class="subtitle">Quantify the financial impact of project delays</p>
        </header>

        <!-- Understanding Cost of Delay - Top Section -->
        <div class="card info-section-top">
            <h2>Understanding Cost of Delay</h2>
            
            <div class="intro-text">
                <p><strong>Time has a cost. Delay is financial, but time you will never make back.</strong></p>
                <p>Those that quantify delay identify where to focus. One thing no one can make is time. Delay is not a bottomless mystery, but an intentional impact. Not many would let $50,000 a week sit for competitor's attention. However, that is exactly what happens with delays to features and projects.</p>
            </div>

            <div class="info-grid-compact">
                <div class="info-item">
                    <h3>What is Cost of Delay?</h3>
                    <p>CoD estimates the financial impact of delay. It represents the value lost over time due to project delaysâ€”not just direct expenses but also revenue erosion, missed opportunities, and weakened competitive positioning.</p>
                    <p class="highlight">Ignoring CoD leads to poor prioritization. Without CoD, teams focus on projects that "feel urgent" rather than those with sooner financial impact.</p>
                </div>

                <div class="info-item">
                    <h3>Delay Matters</h3>
                    <p><strong>Two companies, same feature, different outcomes:</strong></p>
                    <ul>
                        <li><strong>Company A</strong> delivers todayâ€”wins early adopters, locks in market share, generates revenue from day one</li>
                        <li><strong>Company B</strong> waits 3 monthsâ€”customers frustrated, competitors fill the gap, higher costs</li>
                    </ul>
                    <p>The difference? Lost revenue and sacrificed opportunities that only competitors are too willing to fill.</p>
                </div>
            </div>
        </div>

        <!-- Helper Text -->
        <div class="helper-text">
            <p>ðŸ’¡ <strong>Complete the fields below, then click Calculate.</strong> Output and analysis will display below the calculator.</p>
        </div>

        <!-- Four Column Layout Container -->
        <div class="four-column-container">
            <!-- Column 1: Project/Product Information -->
            <div class="card input-section-full">
                <div class="input-grid">
                <!-- Left Column: Project/Product Information -->
                <div class="input-column">
                    <h2>Project/Product Information</h2>
                    
                    <div class="form-group">
                        <label for="projectName">
                            Project Name
                            <span class="tooltip">â“˜
                                <span class="tooltiptext">A descriptive name for your project or initiative</span>
                            </span>
                        </label>
                        <input type="text" id="projectName" placeholder="Enter project name">
                    </div>

                    <div class="form-group">
                        <label for="targetLaunchDate">
                            Target Launch Date <span class="optional-label">(Optional)</span>
                            <span class="tooltip">â“˜
                                <span class="tooltiptext">Original planned launch date for this project</span>
                            </span>
                        </label>
                        <input type="text" id="targetLaunchDate" placeholder="MM-DD-YYYY" maxlength="10">
                    </div>

                    <div class="form-group">
                        <label for="revisedLaunchDate">
                            Revised Launch Date <span class="optional-label">(Optional)</span>
                            <span class="tooltip">â“˜
                                <span class="tooltiptext">Updated launch date due to delays</span>
                            </span>
                        </label>
                        <input type="text" id="revisedLaunchDate" placeholder="MM-DD-YYYY" maxlength="10">
                    </div>

                    <div class="form-group">
                        <label for="weeklyValue">
                            Expected Revenue or Cost Savings Per Week ($)
                            <span class="tooltip">â“˜
                                <span class="tooltiptext">Expected revenue gain or cost savings per week once delivered</span>
                            </span>
                        </label>
                        <input type="number" id="weeklyValue" placeholder="0" min="0" step="1000">
                    </div>

                    <div class="form-group">
                        <label for="developmentWeeks">
                            Development Duration (weeks)
                            <span class="tooltip">â“˜
                                <span class="tooltiptext">Estimated time to complete development and deliver value</span>
                            </span>
                        </label>
                        <input type="number" id="developmentWeeks" placeholder="0" min="1" step="1">
                    </div>

                    <div class="form-group">
                        <label for="delayWeeks">
                            Delay Period (weeks)
                            <span class="tooltip">â“˜
                                <span class="tooltiptext">Number of weeks the project is currently delayed or at risk of delay</span>
                            </span>
                        </label>
                        <input type="number" id="delayWeeks" placeholder="0" min="0" step="1">
                    </div>

                    <div class="form-group">
                        <label for="urgencyProfile">
                            Comparative Urgency
                            <span class="tooltip urgency-tooltip">â“˜
                                <span class="tooltiptext urgency-tooltiptext">
                                    <strong>How value changes over time:</strong><br><br>
                                    <strong>Standard (Linear):</strong> Value accrues steadily over time<br><br>
                                    <strong>Expedite (High urgency):</strong> High initial value, decreases rapidly<br><br>
                                    <strong>Fixed Date (Deadline):</strong> Deadline-driven with severe penalties<br><br>
                                    <strong>Intangible (Low urgency):</strong> Low immediate value, grows over time
                                </span>
                            </span>
                        </label>
                        <select id="urgencyProfile">
                            <option value="standard">Standard (Linear)</option>
                            <option value="expedite">Expedite (High urgency)</option>
                            <option value="fixed-date">Fixed Date (Deadline)</option>
                            <option value="intangible">Intangible (Low urgency)</option>
                        </select>
                    </div>
                </div>

                <!-- Right Column: Team Cost Parameters -->
                <div class="input-column">
                    <h2>Team Cost Parameters</h2>

                    <div class="form-group">
                        <label for="salaryType">
                            Salary Input Type
                            <span class="tooltip">â“˜
                                <span class="tooltiptext">Choose whether to enter annual salary or hourly rate</span>
                            </span>
                        </label>
                        <select id="salaryType">
                            <option value="annual">Annual Salary</option>
                            <option value="hourly">Hourly Rate</option>
                        </select>
                    </div>

                    <div class="form-group" id="annualSalaryGroup">
                        <label for="annualSalary">
                            Average Annual Salary ($)
                            <span class="tooltip">â“˜
                                <span class="tooltiptext">Average base annual salary per team member (before benefits)</span>
                            </span>
                        </label>
                        <input type="number" id="annualSalary" placeholder="0" min="0" step="1000">
                    </div>

                    <div class="form-group" id="hourlyRateGroup" style="display: none;">
                        <label for="hourlyRate">
                            Average Hourly Rate ($)
                            <span class="tooltip">â“˜
                                <span class="tooltiptext">Average base hourly rate per team member (before benefits)</span>
                            </span>
                        </label>
                        <input type="number" id="hourlyRate" placeholder="0" min="0" step="0.5">
                    </div>

                    <div class="form-group">
                        <label for="teamSize">
                            Number of Team Members
                            <span class="tooltip">â“˜
                                <span class="tooltiptext">Total number of people working on this project</span>
                            </span>
                        </label>
                        <input type="number" id="teamSize" placeholder="0" min="0" step="1">
                    </div>

                    <div class="form-group">
                        <label for="benefitsMultiplier">
                            FTE Fully Loaded Cost
                            <span class="tooltip">â“˜
                                <span class="tooltiptext">Multiplier to account for benefits, insurance, taxes, and overhead (typically 1.2x to 2.0x)</span>
                            </span>
                        </label>
                        <input type="number" id="benefitsMultiplier" value="1.5" min="1" max="3" step="0.1">
                    </div>

                    <!-- Estimate Button Section -->
                    <div class="form-group estimate-button-group">
                        <div class="all-action-buttons">
                            <button id="calculateBtn" class="btn-cta btn-primary-cta">Estimate Cost of Delay</button>
                            <button id="addToPortfolioBtn" class="btn-cta btn-portfolio-cta" style="display: none;">Add to Portfolio</button>
                            <button id="addToComparisonBtn" class="btn-cta btn-secondary-cta" style="display: none;">Add to Comparison</button>
                            <button id="buildVisualsBtn" class="btn-cta btn-secondary-cta" style="display: none;">Build Visuals</button>
                            <button id="saveAsBtn" class="btn-cta btn-secondary-cta" style="display: none;">Save As...</button>
                            <button id="loadFromFileBtn" class="btn-cta btn-secondary-cta">Load From File</button>
                            <button id="printResultsBtn" class="btn-cta btn-secondary-cta" style="display: none;">Print Results</button>
                            <input type="file" id="fileInput" accept=".json" style="display: none;">
                        </div>
                    </div>
                </div>
            </div>
            </div>

            <!-- Column 3: Results -->
            <div class="card estimate-section">
            <h2>Analysis Results</h2>
            <div class="estimate-content">
                
                <div id="quickStats" class="quick-stats" style="display: none;">
                    <h3>Quick Stats</h3>
                    <div class="stat-item">
                        <span class="stat-label">Total CoD:</span>
                        <span class="stat-value" id="quickCod">-</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">CD3 Priority:</span>
                        <span class="stat-value" id="quickCd3">-</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Economic Impact:</span>
                        <span class="stat-value" id="quickImpact">-</span>
                    </div>
                </div>
            </div>

            <!-- Column 4: Cost of Delay Analysis -->
            <div class="card results-section">
                <div class="results-header">
                    <h2>Cost of Delay Analysis</h2>
                    <div class="header-actions" id="headerActions" style="display: none;">
                        <div class="dropdown">
                            <button class="btn-action" id="exportDropdownBtn" aria-haspopup="true" aria-expanded="false">Export â–¼</button>
                            <div class="dropdown-content" id="exportDropdown" role="menu">
                                <a href="#" id="exportCsvBtn">Export as CSV</a>
                                <a href="#" id="exportExcelBtn">Export as Excel (.xls)</a>
                                <a href="#" id="exportJsonBtn">Export as JSON</a>
                            </div>
                        </div>
                        <button class="btn-action" id="generateImagesBtn">Generate Images</button>
                        <button class="btn-action" id="clearHistoryBtn" style="display: none;">Clear History</button>
                    </div>
                </div>
                
                <!-- Cumulative Summary (appears after first calculation) -->
                <div id="cumulativeSummary" class="cumulative-summary" style="display: none;">
                    <h3>Cumulative Analysis Summary</h3>
                    <div class="cumulative-metrics">
                        <div class="cumulative-metric">
                            <div class="cumulative-label">Total Calculations</div>
                            <div class="cumulative-value" id="totalCalculations">0</div>
                        </div>
                        <div class="cumulative-metric">
                            <div class="cumulative-label">Combined CoD</div>
                            <div class="cumulative-value" id="combinedCod">$0</div>
                        </div>
                        <div class="cumulative-metric">
                            <div class="cumulative-label">Average CD3</div>
                            <div class="cumulative-value" id="avgCd3">0</div>
                        </div>
                    </div>
                </div>
                
                <!-- Calculation History (additive results) -->
                <div id="calculationHistory" class="calculation-history">
                    <p class="placeholder">Enter project details and click Calculate to see results</p>
                </div>

                <div id="results" class="results-content">
                    <p class="placeholder">Calculation results will appear here</p>
                </div>

                <div id="cdppSection" class="cdpp-section" style="display: none;">
                    <h3>CD3 - Cost of Delay Divided by Duration</h3>
                    <div class="cdpp-value"></div>
                    <p class="cdpp-explanation"><strong>What is CD3?</strong> CD3 (Cost of Delay Divided by Duration) is a prioritization metric from the Weighted Shortest Job First (WSJF) framework. It calculates the economic value delivered per unit of time invested. Higher CD3 = Higher Priority = Better ROI per week of work.</p>
                </div>

                <div id="employeeCostSection" class="employee-cost-section" style="display: none;">
                    <h3>Employee Cost Analysis</h3>
                    <div class="employee-metrics"></div>
                </div>

                <!-- Executive Perspectives -->
                <div id="executivePerspectives" class="executive-perspectives" style="display: none;">
                    <div class="executive-header">
                        <h3>Executive Impact Analysis</h3>
                        <div class="executive-header-actions">
                            <button id="exportExecutiveBtn" class="btn-small">Export Combined</button>
                        </div>
                    </div>
                    <div class="executive-tabs">
                        <button class="executive-tab active" data-tab="ceo">CEO Perspective</button>
                        <button class="executive-tab" data-tab="cfo">CFO Perspective</button>
                        <button class="executive-tab" data-tab="cmo">CMO Perspective</button>
                        <button class="executive-tab" data-tab="cto">CTO Perspective</button>
                        <button class="executive-tab" data-tab="coo">COO Perspective</button>
                    </div>

                    <div id="ceo-content" class="executive-content active">
                        <h3>Chief Executive Officer Perspective</h3>
                        <div id="ceo-analysis"></div>
                    </div>

                    <div id="cfo-content" class="executive-content">
                        <h3>Chief Financial Officer Perspective</h3>
                        <div id="cfo-analysis"></div>
                    </div>

                    <div id="cmo-content" class="executive-content">
                        <h3>Chief Marketing Officer Perspective</h3>
                        <div id="cmo-analysis"></div>
                    </div>

                    <div id="cto-content" class="executive-content">
                        <h3>Chief Technology Officer Perspective</h3>
                        <div id="cto-analysis"></div>
                    </div>

                    <div id="coo-content" class="executive-content">
                        <h3>Chief Operations Officer Perspective</h3>
                        <div id="coo-analysis"></div>
                    </div>
                </div>

                <!-- Overview Section: Integrated risk/opportunity summary -->
                <div id="overviewSection" class="card overview-section" style="display: none; margin-top: 12px;">
                    <h3>Overview â€” Integrated Risk & Opportunity</h3>
                    <div id="overviewContent">
                        <p class="placeholder">Overview will appear here after calculation.</p>
                    </div>
                </div>
            </div>
        </div>
        <!-- End Four Column Container -->

        <!-- Note about output location (Mobile/Tablet only) -->
        <div class="output-note" id="outputNote" style="display: none;">
            <p>ðŸ“Š <strong>Analysis, suggestions, and visualizations display below</strong></p>
        </div>

        <!-- Visualization Section -->
        <div class="card visualization-section" id="chartSection" style="display: none;">
            <h2>Cost of Delay Over Time</h2>
            <canvas id="delayChart"></canvas>
        </div>

        <!-- Comparison Section -->
        <div class="card comparison-section" id="comparisonSection" style="display: none;">
            <div class="comparison-header">
                <h2>Project Comparison</h2>
                <button id="clearComparisonBtn" class="btn-small">Clear All</button>
            </div>
            <div id="comparisonTable"></div>
            <div class="comparison-chart-container">
                <canvas id="comparisonChart"></canvas>
            </div>
        </div>

        <!-- Portfolio Management Section -->
        <div id="portfolioSection" class="card portfolio-section" style="display: none;">
            <div class="portfolio-header">
                <h2>Project/Product Portfolio</h2>
                <div class="portfolio-actions">
                    <button id="clearPortfolioBtn" class="btn-secondary">Clear Portfolio</button>
                    <button id="exportPortfolioBtn" class="btn-secondary">Export Portfolio</button>
                </div>
            </div>

            <!-- Portfolio Overview -->
            <div id="portfolioOverview" class="portfolio-overview">
                <h3>Portfolio Overview</h3>
                <div class="portfolio-metrics">
                    <div class="metric-card">
                        <div class="metric-label">Total Projects</div>
                        <div class="metric-value" id="portfolioCount">0</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Total Portfolio CoD</div>
                        <div class="metric-value" id="portfolioTotalCod">$0</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Average CD3</div>
                        <div class="metric-value" id="portfolioAvgCd3">0</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Total Weekly Impact</div>
                        <div class="metric-value" id="portfolioWeeklyImpact">$0/week</div>
                    </div>
                </div>
            </div>

            <!-- Portfolio Comparison Chart -->
            <div class="portfolio-chart-container">
                <h3>Portfolio Comparison (Prioritized by CD3)</h3>
                <canvas id="portfolioComparisonChart"></canvas>
            </div>

            <!-- Individual Projects -->
            <div id="portfolioProjects" class="portfolio-projects">
                <h3>Individual Projects</h3>
                <div id="projectCards" class="project-cards"></div>
            </div>
        </div>

        <!-- Additional Information Section - Always at Bottom -->
        <div class="card info-section">
            <h2>Additional Resources</h2>
            
            <div class="info-grid">
                <div class="info-item">
                    <h3>Further Resources <span class="subtitle-text">- practical overview</span></h3>
                    <p><a href="https://tobyelwin.com/cost-of-confusion-success-expense" target="_blank" rel="noopener noreferrer" class="primary-resource">Cost of Confusion</a></p>
                    <ol class="resource-links">
                        <li><a href="https://tobyelwin.com/cost-of-delay-financial-impact" target="_blank" rel="noopener noreferrer">Cost of Delay</a></li>
                        <li><a href="https://tobyelwin.com/switching-costs-hidden-tax-on-change" target="_blank" rel="noopener noreferrer">Switching Cost</a></li>
                        <li><a href="https://tobyelwin.com/opportunity-cost-value" target="_blank" rel="noopener noreferrer">Opportunity Cost</a></li>
                    </ol>
                </div>

                <div class="info-item">
                    <h3>Cost of Confusion</h3>
                    <p><strong>Common delays stem from:</strong></p>
                    <ul>
                        <li><strong>Unclear Prioritization:</strong> Teams debate instead of execute</li>
                        <li><strong>Scope Creep:</strong> Changing requirements extend delivery time</li>
                        <li><strong>Task Switching:</strong> Multitasking increases lead time 20%+</li>
                    </ul>
                    <p class="highlight">Fix: Limit Work in Progress (WIP), enforce scope discipline, use flow metrics</p>
                </div>

                <div class="info-item">
                    <h3>Take Action</h3>
                    <p><strong>Minimize delay by:</strong></p>
                    <ul>
                        <li><strong>Prioritizing High-Value Work:</strong> Focus where speed impacts revenue</li>
                        <li><strong>Quantifying Impact:</strong> Assign dollar value to each week of delay</li>
                        <li><strong>Optimizing Flow:</strong> Eliminate slow decisions and overburdened teams</li>
                    </ul>
                    <p>Companies like Netflix, Toyota, and Uber treat speed to market as a competitive advantage. They ask: "What will it cost us every week this isn't providing customer value?"</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Floating Navigation Buttons -->
    <div class="floating-nav-buttons">
        <button id="scrollToTopBtn" class="scroll-btn" title="Jump to Project/Product Information">
            New Project Info
        </button>
        <button id="scrollToExecutiveBtn" class="scroll-btn" title="Jump to Executive Impact Analysis">
            Executive Analysis
        </button>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // Load-time instrumentation: capture errors and console.error calls for debugging
        window.__loadErrors = [];
        window.addEventListener('error', function (e) {
            try {
                window.__loadErrors.push({ type: 'error', message: e.message, filename: e.filename, lineno: e.lineno, colno: e.colno, stack: e.error && e.error.stack });
            } catch (err) { /* ignore */ }
        });
        window.addEventListener('unhandledrejection', function (e) {
            try { window.__loadErrors.push({ type: 'unhandledrejection', reason: String(e.reason), stack: e.reason && e.reason.stack }); } catch (err) {}
        });
        (function(){
            const orig = console.error;
            console.error = function(){
                try { window.__loadErrors.push({ type: 'console.error', args: Array.from(arguments).map(a => (a && a.stack) || String(a)) }); } catch (e) {}
                orig.apply(console, arguments);
            };
        })();
    </script>
    <script src="cost-of-delay-calculator.js"></script>
    <script>
        // Scroll button functionality
        document.getElementById('scrollToTopBtn').addEventListener('click', function() {
            document.querySelector('.input-section-full').scrollIntoView({ behavior: 'smooth', block: 'start' });
        });
        
        document.getElementById('scrollToExecutiveBtn').addEventListener('click', function() {
            const execSection = document.getElementById('executivePerspectives');
            if (execSection && execSection.style.display !== 'none') {
                execSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
            } else {
                alert('Calculate a project first to view Executive Impact Analysis');
            }
        });
    </script>
</body>
</html>
